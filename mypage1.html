<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>mypage</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='nicepage.css') }}" media="screen">
<link rel="stylesheet" href="{{ url_for('static', filename='mypage.css') }}" media="screen">
    <script class="u-script" type="text/javascript" src = "{{ url_for('static', filename='jquery.js') }}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='nicepage.js') }}" defer=""></script>
    
    <script  type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

	  <meta name="generator" content="Nicepage 4.12.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700">
    
    
    
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "생생건강통",
		"logo": "images/20220607_225725.png",
		"sameAs": [
				"https://knufinal.slack.com",
				"https://silver-dragon-340.notion.site/Final-Project-Machine129-58e041584ae44baa852d7d0378c736d8",
				"https://github.com/knu-final-project"
		]
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="mypage">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body u-xl-mode"><header class="u-clearfix u-header u-header" id="sec-b10a"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="/home" class="u-image u-logo u-image-1" data-image-width="283" data-image-height="115">
          <img src="{{ url_for('static', filename='images/20220607_225725.png') }}" class="u-logo-image u-logo-image-1">
        </a>
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1" data-responsive-from="MD">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 700; text-transform: uppercase;">
            <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-spacing-30 u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/" style="padding: 10px 0px;">소개말</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/survey" data-page-id="883203286" style="padding: 10px 0px;">질병예측</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/predict" data-page-id="883203286" style="padding: 10px 0px;">식단평가</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/home" data-page-id="883203286" style="padding: 10px 0px;">개발자</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/mypage" style="padding: 10px 0px;">내 정보</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/">소개말</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/survey" data-page-id="883203286">질병예측</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/predict" data-page-id="883203286">식단평가</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/home" data-page-id="883203286">개발자</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/mypage">내 정보</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
        {% if session['logged_in'] %}
        <a class="u-login u-login-1" href="/logout" data-page-id="27095522" title="logout">나가기</a>
        {% else %}
        <a class="u-login u-login-1" href="/login" data-page-id="27095522" title="login">들어가기</a>
        {% endif %}
      </div></header>
    <section class="u-align-center u-clearfix u-custom-color-21 u-section-1" id="carousel_5153">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-subtitle u-text u-text-1">{{data6}} 님의 <br> {{data5}} 기준<br> 식단 정보입니다.</h2>
        <div class="u-border-3 u-border-grey-70 u-line u-line-horizontal u-line-1"></div>
        <h2 class="u-custom-font u-text u-text-default u-text-palette-5-dark-2 u-text-2"><BIG><B>생생<span class="u-text-custom-color-13">건강</span>보건소​🩺</B></BIG>
        </h2>
        <center><h4 class="u-text u-text-default u-text-3"> 💙<B><I>A Healthier, Happier You</I></B>💙</h4></center>
        <br>
        <p class="u-text u-text-default u-text-1">[최근 <span style="font-size: 1.5rem;">한끼</span>의 총 칼로리💙] <span style="font-size: 1.5rem;">{{kcal_values}} </span>kcal
        </p>
        <div class="u-clearfix u-expanded-width u-gutter-18 u-layout-wrap u-layout-wrap-1">
          <div class="u-layout">
            <div class="u-layout-col">
              <div class="u-size-30">
                <div class="u-layout-row">
                  <div class="u-align-center u-container-style u-custom-color-22 u-layout-cell u-left-cell u-shape-rectangle u-size-20 u-layout-cell-1">
                    <div class="u-container-layout u-container-layout-1">
                      <center><h3 class="u-align-center u-text u-text-black u-text-default u-text-3"><B>위험 질병</B></h3><center>
                        <div class="u-border-3 u-border-custom-color-13 u-line u-line-horizontal u-line-3"></div>


                      <p class="u-text u-text-palette-5-dark-2 u-text-6"><B>{{data6}}</B> 님의 위험질병은</p>
                      <br>
                      <center><p class="u-align-center u-text u-text-palette-5-dark-2 u-text-8"><B>{{data4}}</B><br>
                        <br>입니다.
                      </p></center>
                    </div>
                  </div>
                  <div class="u-container-style u-image u-image-default u-layout-cell u-size-20 u-image-1" data-image-width="960" data-image-height="1280">
                    <div class="u-container-layout u-container-layout-2"></div>
                  </div>
                  <div class="u-container-style u-custom-color-22 u-layout-cell u-right-cell u-shape-rectangle u-size-20 u-layout-cell-3">
                    <div class="u-container-layout u-container-layout-3">
                      <center><h3 class="u-align-center u-text u-text-black u-text-default u-text-3"><B>피해야 할 음식</B></h3></center>
                      <div class="u-border-3 u-border-custom-color-13 u-line u-line-horizontal u-line-3"></div>
                      <br>
                      <center><p class="u-align-center u-text u-text-palette-5-dark-2 u-text-8" >위험 질병 기반 기피해야 할 음식은</p></center>
                      <center><p class="u-text u-text-palette-5-dark-2 u-text-6"><B>{{data3}}</B><br>
                        <br>입니다.
                      </p></center>
                    </div>
                  </div>
                </div>
              </div>
              <div class="u-size-30">
                <div class="u-layout-row">
                  <div class="u-container-style u-custom-color-22 u-layout-cell u-left-cell u-radius-10 u-shape-round u-size-30 u-layout-cell-4">
                    <div class="u-container-layout u-valign-middle u-container-layout-4">
                      
                      <h5><b>{{data6}}님이 경계해야 할 질병 (50% 이상 측정치)</b></h5>
                      <canvas id="bar-chart-horizontal" width="400" height="400"></canvas>
                    <script>
                    // 그래프 꾸미기
                    var ctx = document.getElementById('bar-chart-horizontal').getContext('2d');
            
                    var chart = new Chart(ctx, {
                        type: 'bar',
                        plugins:[ChartDataLabels],
                        data:{
                          datasets: [{
                            label : '유병 확률 지수',
                            axis: 'y', // ***가로형 막대로 바꾸는 옵션***
                            backgroundColor: {{backgroundcolor_level | tojson |safe}} ,
                            borderColor: 'rgb(237, 2, 61)',
                            data: {{data | tojson | safe}},
                            datalabels:{
                              color:'black',        
                                                     
                              font:{size:20}       
                            }
                          }],
                          labels: {{labels | tojson | safe}},
                          data_label:{{data | tojson | safe}},
                        },
                        options:{
                            responsive: true, // false : 그래프 크기 정적으로 변경
                            indexAxis: 'y', //***가로형 막대로 바꾸는 옵션***
          
                            
                          plugins:{
                            legend: {
                                position: 'bottom',
                                display: false,
                             },
                              title: {
                                //display: true,
                                //text: '0'+{{data6}}+'님이 경계해야 할 질병 (50% 이상 측정치)',
                                //fontSize: 25,
                                //fontColor: 'black'
                             },
                              // 라벨
                            datalabels:{
                              formatter:function(value,context){
                                // data 에 넣은 데이타 순번. 물론 0 부터 시작
                                var idx = context.dataIndex;
                                return context.chart.data.data_label[idx] + '%';
                              },
                              
                            }
                          }
                        }
                      });
                      
            
                </script>
                    </div>
                  </div>
                  <div class="u-container-style u-custom-color-22 u-layout-cell u-radius-10 u-right-cell u-shape-round u-size-30 u-layout-cell-5">
                    <div class="u-container-layout u-valign-middle u-container-layout-5">
                      <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
                      <script src="https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js"></script>
                      <canvas id="doughnut-chart" width="400" height="400"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <a href="/home" class="u-border-none u-btn u-button-style u-custom-color-19 u-hover-palette-3-base u-btn-1"><span class="u-icon u-text-white u-icon-1"><svg class="u-svg-content" viewBox="0 0 512 512" x="0px" y="0px" style="width: 1em; height: 1em;"><polygon points="256,152.96 79.894,288.469 79.894,470.018 221.401,470.018 221.401,336.973 296.576,336.973 296.576,470.018 432.107,470.018 432.107,288.469"></polygon><polygon points="439.482,183.132 439.482,90.307 365.316,90.307 365.316,126.077 256,41.982 0,238.919 35.339,284.855 256,115.062 476.662,284.856 512,238.92"></polygon></svg><img></span>
        </a>
      </div>
    </section>
    
    
    
    
    
    
    <footer class="u-align-center-md u-align-center-sm u-align-center-xs u-clearfix u-footer u-white" id="sec-58d4"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="/" class="u-image u-logo u-image-1" data-image-width="280" data-image-height="280">
          <img src="{{ url_for('static', filename='images/TEAM-LOGO.png') }}" class="u-logo-image u-logo-image-1">
        </a>
        <p class="u-align-center-lg u-align-center-md u-align-center-xl u-text u-text-1">
          <span style="font-size: 0.9375rem;">
            <span style="font-size: 1.0625rem;">경북대학교 산학협력단 K-Digital Training 1기</span>
          </span>
          <br>
          <span style="font-size: 30px; font-weight: normal;">Team '머선일이조'</span>
        </p>
        <div class="u-align-left u-social-icons u-spacing-10 u-social-icons-1">
          <a class="u-social-url" title="facebook" target="_blank" href="https://knufinal.slack.com"><span class="u-file-icon u-icon u-social-facebook u-social-icon u-icon-1"><img src="{{ url_for('static', filename='images/5968974.png') }}" alt=""></span>
          </a>
          <a class="u-social-url" title="twitter" target="_blank" href="https://silver-dragon-340.notion.site/Final-Project-Machine129-58e041584ae44baa852d7d0378c736d8"><span class="u-file-icon u-icon u-social-icon u-social-twitter u-icon-2"><img src="{{ url_for('static', filename='images/notion.png') }}" alt=""></span>
          </a>
          <a class="u-social-url" title="instagram" target="_blank" href="https://github.com/knu-final-project"><span class="u-file-icon u-icon u-social-icon u-social-instagram u-icon-3"><img src="{{ url_for('static', filename='images/733609.png') }}" alt=""></span>
          </a>
        </div>
      </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
    </section>

    <script type="text/javascript">
      //new Chart(document.getElementById("bar-chart-horizontal"), {
        //type: 'horizontalBar',
        //data: {
          //labels: {{labels | tojson | safe}},
          //datasets: [
            //{
              //base: 0,
              //label: "유병 확률 지수",
              //fontColor : 'black',
              //backgroundColor: {{backgroundcolor_level | tojson |safe}} ,
              //data: {{data | tojson | safe}},
              //datalabels :{ color : 'black', fontSize : 20}
            //}
          //]
        //},
        //options: {
          //legend: { 
            //display: false,
            //labels :{
              //fontSize : 12,
              //fontStyle : 'bold'

            //} },
          //title: {

            //display: true,
            //text: '0'+{{data6}}+'님이 경계해야 할 질병 (50% 이상 측정치)',
            //fontSize : 20,
            //fontColor : 'black'
          //},
          //scales:{
            //xAxes:[{
              //ticks:{
                //beginAtZero : true,
                //fontColor : 'black',
                //fontSize : 15
                

              //},
              //gridLines:{
                //display:false,
                //drawBorder:false
              //}
            //}],
            //yAxes:[{
              //ticks:{
                //fontStyle: "bold",
                //fontSize : 16,
                //fontColor : 'black'
                
              //},
              //gridLines:{
                //display : false
              //}
            //}],
              //datalabels:{
                //formatter:function(value, context){
                  //var idx = context.dataIndex;
                  //return context.chart.data.labels[idx]+ ' ' +addComma(value)
                //}
              //}
            //}
          //}
        //}
    //});

    new Chart(document.getElementById("doughnut-chart"), {
      type: 'doughnut',
      data: {
        //labels: {{nutrient_labels | tojson | safe}},
        labels : ['탄수화물','단백질','지방'],
        datasets: [
          {
            label: "Population (millions)",
            //backgroundColor : ['#A63A50', '#F0E7D8', '#AB9B96'],
            backgroundColor : ['#839788' ,'#BAA898' ,'#EEE0CB' ],
            fontColor : 'black',
            //backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
            data: {{nutrient_data | tojson | safe }}
          }
        ]
      },
      options: {
        legend : {
          display : true,
          labels : {
            fontStyle : 'bold',
            fontSize : 20
          }
        },
        plugins: {
            labels: {
                render: 'value'+'%',
                fontColor: 'black',
                fontSize: 25
            }
        },
        title: {
          display: true,
          text: '0' + {{data6}} + '님의' + ' 최근 식단 3대 영양소 비율',
          fontSize : 20,
          fontColor : 'black'
        }
      }
  });
</script>
  </body>
</html>